<div class="container my-4">
  <!-- Breadcrumb al inicio de la página -->
  <app-breadcrumb [breadcrumbList]="breadcrumbItems" class="mt-3 mb-4">
  </app-breadcrumb>

  <!-- Primera sección: Foto y Detalles -->
  <div class="row g-4 mb-4">
    <!-- Columna de la imagen -->
    <div class="col-12 col-md-4">
      <img [src]="returnMoviePoster()" [alt]="movie().title" class="img-fluid rounded shadow">
    </div>

    <!-- Columna de detalles -->
    <div class="col-12 col-md-8">
      <h1 class="mb-3">{{ movie().title }}</h1>
      <h5>{{movie().tagline}}</h5>
      <div class="mb-3">
        <strong>Fecha de lanzamiento:</strong> {{ movie().release_date }}
      </div>

      <div class="mb-3">
        <strong>Géneros:</strong>
        <div class="d-flex flex-wrap justify-content-center gap-2 mt-2">
          @for (genre of movie().genres; track genre; let idx = $index) {
            <span class="badge bg-primary">
              {{ genre.name }}
            </span>
          }
        </div>
      </div>

      <div class="mb-3">
        <strong>País de origen:</strong> {{ movie().origin_country }}
      </div>

      <div class="mb-3">
        <strong>Duración:</strong> {{ returnMovieDuration() }}
      </div>

      <div class="mb-3">
        <strong>Idiomas:</strong>
        <ul class="list-unstyled mt-2">
          @for (languages of movie().spoken_languages; track languages; let idx= $index) {
            <li>
              {{ languages.name }}
            </li>
          }
        </ul>
      </div>

      <div class="mb-3">
        <strong>Página web:</strong>
        <a [href]="movie().homepage" target="_blank" class="ms-2">
          Visitar sitio
        </a>
      </div>
    </div>
  </div>


  <!-- Segunda sección: Descripción -->
   <section class="mb-3">
     <div class="row">
       <div class="col-12">
         <div class="card">
           <div class="card-body">
             <h5 class="card-title mb-3">Sinopsis</h5>
             <p class="card-text">{{ movie().overview }}</p>
           </div>
         </div>
       </div>
     </div>
   </section>

   <section class="mb-3">
    <div class="row">
      <div class="col-12">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title mb3">Compañías productoras</h5>
            <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4 d-flex justify-content-center align-center">
              @for (company of movie().production_companies; track company; let idx = $index) {
              <div class="col">
                <app-company-card [company]="company"></app-company-card>
              </div>
              }
            </div>
          </div>
        </div>
      </div>
    </div>
   </section>
</div>


<div class="container my-4">
  <h2 class="mb-4">Reparto</h2>

  <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-5 g-5">
    @for (actor of movieCast(); track actor; let idx = $index) {
      <div class="col">
        <app-movie-cast [actor]="actor"></app-movie-cast>
      </div>
    }
  </div>
</div>
